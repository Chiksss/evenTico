create database evenTicoTEC;
use evenTicoTEC;

create schema TicoTEC;  

create table TicoTEC.conferencia(
	idConferencia int NOT NULL,
	nombreConferencia varchar(20) NOT NULL,
  	costoInscripcion int NOT NULL,
	fechaInicio int NOT NULL,
	fechaFinal int NOT NULL,
	horaInicio int NOT NULL,
	horaFinal int NOT NULL,
	listaParticipantes int NOT NULL,
	listaOradores int NOT NULL,
	idSala int NOT NULL,
);

create table TicoTEC.conferencia_Sala(
	idSala int NOT NULL,
	salas varchar(20) NOT NULL,
);

ALTER TABLE TicoTEC.conferencia ADD CONSTRAINT conferencia_PK PRIMARY KEY (idConferencia);
ALTER TABLE TicoTEC.conferencia_Sala ADD CONSTRAINT conferenciaSala_PK PRIMARY KEY (idSala);

ALTER TABLE TicoTEC.conferencia ADD CONSTRAINT conferenciaSala_FK FOREIGN KEY (idSala) REFERENCES TicoTEC.conferencia_Sala (idSala);

create table TicoTEC.sala(
	idSala int NOT NULL,
	nombreSala varchar(20) NOT NULL,
	capacidadMax int NOT NULL,
	cantSalidadE int NOT NULL,
	tamanoSala int NOT NULL,
	idAireAcondicionado int NOT NULL,
	idCondicionEspecial int NOT NULL,
);

create table TicoTEC.sala_AireAcondicionado(
	idAireAcondicionado int NOT NULL,
	A_C varchar(10) NOT NULL,
);

create table TicoTEC.sala_CondicionEspecial(
	idCondicionEspecial int NOT NULL,
	condicionesEspeciales varchar(10) NOT NULL,
);

ALTER TABLE TicoTEC.sala ADD CONSTRAINT sala_PK PRIMARY KEY (idSala);
ALTER TABLE TicoTEC.sala_AireAcondicionado ADD CONSTRAINT salaAC_PK PRIMARY KEY (idAireAcondicionado);
ALTER TABLE TicoTEC.sala_CondicionEspecial ADD CONSTRAINT salaCE_PK PRIMARY KEY (idCondicionEspecial);

ALTER TABLE TicoTEC.sala ADD CONSTRAINT salaAC_FK FOREIGN KEY (idAireAcondicionado) REFERENCES TicoTEC.sala_AireAcondicionado (idAireAcondicionado);
ALTER TABLE TicoTEC.sala ADD CONSTRAINT salaCE_FK FOREIGN KEY (idCondicionEspecial) REFERENCES TicoTEC.sala_CondicionEspecial (idCondicionEspecial);

create table TicoTEC.evento(
	idEvento int NOT NULL,
	nombreEvento varchar(50) NOT NULL,
	fechaInicio int NOT NULL,
	fechaFinal int NOT NULL,
	calendarioEvento int NOT NULL,
	idPatrocinadores int NOT NULL,
	idHotel int NOT NULL,
);

create table TicoTEC.evento_Patrocinadores(
	idPatrocinadores int NOT NULL,
	patrocinadores varchar(20) NOT NULL,
);

create table TicoTEC.evento_Hotel(
	idHotel int NOT NULL,
	hoteles varchar(20) NOT NULL,
);

ALTER TABLE TicoTEC.evento ADD CONSTRAINT evento_PK PRIMARY KEY (idEvento);
ALTER TABLE TicoTEC.evento_Patrocinadores ADD CONSTRAINT eventoPatrocinadores_PK PRIMARY KEY (idPatrocinadores);
ALTER TABLE TicoTEC.evento_Hotel ADD CONSTRAINT eventoHotel_PK PRIMARY KEY (idHotel);

ALTER TABLE TicoTEC.evento_Patrocinadores ADD CONSTRAINT eventoPatrocinadores_FK FOREIGN KEY (idPatrocinadores) REFERENCES TicoTEC.evento_Patrocinadores (idPatrocinadores);
ALTER TABLE TicoTEC.evento_Hotel ADD CONSTRAINT eventoHotel_FK FOREIGN KEY (idHotel) REFERENCES TicoTEC.evento_Hotel (idHotel);

ALTER TABLE MegEstef.vehiculo ADD CONSTRAINT vehiculo_vinConstraint UNIQUE(vin);

INSERT INTO MegEstef.vehiculo_color (idColor,colores) VALUES (2,'Morado'),(3,'Amarillo'),(4,'Negro'),(5,'Blanco'),(6,'Verde'),(7,'Rojo'),(8,'Naranja'),(9,'Rosado'),(10,'Dorado');

select * from MegEstef.vehiculo_color

INSERT INTO MegEstef.vehiculo_marca (idMarca,marcas) VALUES (1,'Toyota'),(2, 'Nissan'),(3, 'Lexus'),(4, 'BMW'),(5, 'Hyundai'),(6, 'Land Rover'), (7, 'Volvo'),(8, 'Mitsubishi'),(9, 'Mercedes'),(10, 'Chevrolet'); 

INSERT INTO MegEstef.vehiculo_sedeAgencia (idSedeAgencia,sedes) VALUES (1, 'Curridabat'),(2, 'La Sabana'),(3, 'Paseo Colon'),(4, 'Tres Rios'),(5, 'Guapiles'),(6, 'Escazu'), (7, 'Cartago'),(8, 'Liberia'),(9, 'Jaco'),(10, 'Belen');

INSERT INTO MegEstef.vehiculo_estado (idEstado,estados) VALUES (1, 'En reparaci√≥n'),(2, 'Listo'),(3, 'Por revisar');

create table MegEstef.viaje( 
	idViaje int NOT NULL,
	kilometrajeIni int NOT NULL,
	kilometrajeFin int NOT NULL,
	destino varchar(12) NOT NULL,
	horaIni int NOT NULL,
	horaFin int NOT NULL,
	listaPasajeros int NOT NULL,
	idChofer int NOT NULL,
);

create table MegEstef.viaje_chofer(
	idChofer int NOT NULL,
	nombre varchar(10) NOT NULL,
);

ALTER TABLE MegEstef.viaje ADD CONSTRAINT viaje_PK PRIMARY KEY (idViaje);
ALTER TABLE MegEstef.viaje_chofer ADD CONSTRAINT viajeChofer_PK PRIMARY KEY (idChofer);

ALTER TABLE MegEstef.viaje ADD CONSTRAINT viajeChofer_FK FOREIGN KEY (idChofer) REFERENCES MegEstef.viaje_chofer (idChofer);

INSERT INTO  MegEstef.viaje_chofer (idChofer,nombre) VALUES (1, 'Carlos'),(2, 'Raul'),(3, 'Lester'),(4, 'Maria'),(5, 'Karla'),(6, 'Daniel'), (7, 'Marcos'),(8, 'Mario'),(9, 'Tatiana'),(10, 'Lorenzo');

create table MegEstef.pasajero(
	cedula int NOT NULL,
	telefono int NOT NULL,
	email varchar(20) NOT NULL,
	nombre varchar(12) NOT NULL,
	apellido1 varchar(12) NOT NULL,
	apellido2 varchar(12) NOT NULL,
	idProvincia int NOT NULL,
	idCanton int NOT NULL,
	idDistrito int NOT NULL,
	idSenas int NOT NULL,
);

create table MegEstef.provincia(
	idProvincia int NOT NULL,
	provincias varchar(12),
);

create table MegEstef.canton(
	idCanton int NOT NULL,
	cantones varchar(12),
);

create table MegEstef.distrito(
	idDistrito int NOT NULL,
	distritos varchar(12) NOT NULL,
);

create table MegEstef.senas(
	idSenas int NOT NULL,
	senas varchar NOT NULL,
);

ALTER TABLE MegEstef.pasajero ADD CONSTRAINT pasajero_PK PRIMARY KEY (cedula);
ALTER TABLE MegEstef.provincia ADD CONSTRAINT provincia_PK PRIMARY KEY (idProvincia);
ALTER TABLE MegEstef.canton ADD CONSTRAINT canton_PK PRIMARY KEY (idCanton);
ALTER TABLE MegEstef.distrito ADD CONSTRAINT distrito_PK PRIMARY KEY (idDistrito);
ALTER TABLE MegEstef.senas ADD CONSTRAINT senas_PK PRIMARY KEY (idSenas);

ALTER TABLE MegEstef.pasajero ADD CONSTRAINT pasajeroProvincia_FK FOREIGN KEY (idProvincia) REFERENCES MegEstef.provincia (idProvincia);
ALTER TABLE MegEstef.pasajero ADD CONSTRAINT pasajeroCanton_FK FOREIGN KEY (idCanton) REFERENCES MegEstef.canton (idCanton);
ALTER TABLE MegEstef.pasajero ADD CONSTRAINT pasajeroDistrito_FK FOREIGN KEY (idDistrito) REFERENCES MegEstef.distrito (idDistrito);
ALTER TABLE MegEstef.pasajero ADD CONSTRAINT pasajeroSenas_FK FOREIGN KEY (idSenas) REFERENCES MegEstef.senas (idSenas);

create table MegEstef.empresaServicio(
	cedJuridica int NOT NULL,
	telefono int NOT NULL,
	idRazonSocial int NOT NULL,
	idProvincia int NOT NULL,
	idCanton int NOT NULL,
	idDistrito int NOT NULL,
	idSenas int NOT NULL,
);

create table MegEstef.empresaServicio_RazonSocial(
	idRazonSocial int NOT NULL,
	RazonesSociales varchar(10) NOT NULL,
);

ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicio_PK PRIMARY KEY (cedJuridica);
ALTER TABLE MegEstef.empresaServicio_RazonSocial ADD CONSTRAINT razonSocial_PK PRIMARY KEY (idRazonSocial);

ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicioRazonSocial_FK FOREIGN KEY (idRazonSocial) REFERENCES MegEstef.empresaServicio_RazonSocial (idRazonSocial);
ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicioProvincia_FK FOREIGN KEY (idProvincia) REFERENCES MegEstef.provincia (idProvincia);
ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicioCanton_FK FOREIGN KEY (idCanton) REFERENCES MegEstef.canton (idCanton);
ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicioDistrito_FK FOREIGN KEY (idDistrito) REFERENCES MegEstef.distrito (idDistrito);
ALTER TABLE MegEstef.empresaServicio ADD CONSTRAINT empresaServicioSenas_FK FOREIGN KEY (idSenas) REFERENCES MegEstef.senas (idSenas);

INSERT INTO MegEstef.empresaServicio_RazonSocial (idRazonSocial,RazonesSociales) VALUES (1, 'S.A'),(2, 'S.R.L'),(3, 'E.I.R.L'),(4, 'Comandita'),(5, 'Individual'),(6, 'Colectiva');

create table MegEstef.servicioMantenimiento(
	idServicio int NOT NULL,
	placa int NOT NULL,
	cedulaJuridica int NOT NULL,
	fechaIni int NOT NULL,
	fechaFin int NOT NULL,
	detalleServicio varchar(20) NOT NULL,
);

ALTER TABLE MegEstef.servicioMantenimiento ADD CONSTRAINT servicioMantenimiento_PK PRIMARY KEY (idServicio);

ALTER TABLE MegEstef.servicioMantenimiento ADD CONSTRAINT servicioMantenimientoPlaca_FK FOREIGN KEY (placa) REFERENCES MegEstef.vehiculo (placa);
ALTER TABLE MegEstef.servicioMantenimiento ADD CONSTRAINT servicioMantenimientocedJuridica_FK FOREIGN KEY (cedulaJuridica) REFERENCES MegEstef.empresaServicio (cedJuridica);

INSERT INTO MegEstef.servicioMantenimiento (idEmpresaServicio,nombreEmpresa) VALUES (1, 'General Motors'),(2, 'Platino'),(3, 'Apogeo'),(4, 'Venus Motors'),(5, 'Active'),(6, 'WinWin'), (7, 'Armada'),(8, 'TopRank'),(9, 'Motores Maven'),(10, 'Tempo');


create table MegEstef.licencias(
	numero int NOT NULL,
	fechaEmision int NOT NULL,
	fechaCaducidad int NOT NULL,
	idTipo int NOT NULL,
);

create table MegEstef.licencias_tipo(
	idTipo int NOT NULL,
	categorias varchar(10) NOT NULL,
);

ALTER TABLE MegEstef.licencias ADD CONSTRAINT licenciasNumero PRIMARY KEY (numero);
ALTER TABLE MegEstef.licencias_tipo ADD CONSTRAINT licenciasTipo PRIMARY KEY (idTipo);

ALTER TABLE MegEstef.licencias_tipo ADD CONSTRAINT licenciasidTipo_FK FOREIGN KEY (idTipo) REFERENCES MegEstef.licencias_tipo (idTipo);

INSERT INTO MegEstef.licencias_tipo (idTipo,categorias) VALUES (1,'A1'),(2,'A2'),(3,'A3'),(4,'B1'),(5,'B2'),(6,'B3'),(7,'B4'),(8,'C1'),(9,'D1'),(10,'E1');


create table MegEstef.chofer(
	cedula int NOT NULL,
	listaLicencias int NOT NULL,
	nombre varchar(12) NOT NULL,
);

ALTER TABLE MegEstef.chofer ADD CONSTRAINT coferCedula_PK PRIMARY KEY (cedula);
